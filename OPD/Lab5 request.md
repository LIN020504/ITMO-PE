# Лабораторная работа No5. 
# Асинхронный обмен данными с ВУ
>实验室工作No5
>与 VU 进行异步数据交换
## Цель работы 实验目的
изучение организации системы ввода-вывода базовой ЭВМ, команд ввода-вывода и исследование процесса функционирования ЭВМ при обмене данными по сигналам готовности внешних устройств (ВУ).
> 研究基础计算机的输入输出系统的组织结构、输入输出命令，以及研究根据外部设备 (ED) 的就绪信号交换数据时计算机的运行过程
## Задание 任务
По выданному преподавателем варианту разработать программу асинхронного обмена данными с внешним устройством. При помощи программы осуществить ввод или вывод информации, используя в качестве подтверждения данных сигнал (кнопку) готовности ВУ
> 根据老师给出的版本，开发一个与外部设备进行异步数据交换的程序。在程序的帮助下，输入或输出信息，使用 VU 准备就绪的信号（按钮）作为数据的确认
## Подготовка к выполнению работы. 工作准备
Изучить организацию системы ввода-вывода и команды ввода-вывода базовой ЭВМ, организацию асинхронного программно-управляемого обмена данными (Приложение В, п.п.2.1-2.3, пример 3). Разработать заданную программу и составить ее описание. Команды программы, используемые переменные и коды символов необходимо разместить в указанных ячейках. Закодировать строку в заданной кодировке, а также в кодировках UTF-8 и UTF-16.
> 研究输入输出系统的组织和基础计算机的输入输出命令，异步程序控制数据交换的组织（附录 B，第 2.1-2.3 段，示例 3）。开发一个给定的程序并写下它的描述。程序命令、使用的变量和字符代码必须放在指定的单元格中。以指定的编码以及 UTF-8 和 UTF-16 编码对字符串进行编码。
## Порялок вьшолнення работы 工作步骤
1. Получить допуск к лабораторной работе, предъявив преподавателю подготовленные материалы.
   通过向老师展示准备好的材料来获得实验室工作的机会
2. Разработать и занести в БЭВМ программу, при необходимости ввести данные.
   开发程序并输入计算机，必要时输入数据。
3. Предъявить преподавателю заданную работающую программу, выполняющую в автоматическом режиме ввод-вывод символов.
   向教师展示一个给定的执行字符自动输入输出的工作程序。
4. В режиме покомандного выполнения программы ввести (вывести) два первых символов заданного слова, заполняя таблицу трассировки.
   在程序的逐命令执行模式下，输入（输出）给定单词的前两个字符，填写跟踪表。
5. Перевести ЭВМ в режим автоматического выполнения программы и ввести (вывести) остальные символы заданного слова. Таблицу трассировки подписать у преподавателя!
   将计算机切换到程序自动执行模式，输入（输出）给定单词的剩余字符。跟老师签下轨迹表！
6. Опционально, по дополнительному заданию преподавателя, переделать устройство ввода-вывода (ВУ-1...ВУ-3) на ВУ-4...ВУ-10.
   可选地，根据老师的附加任务，将输入输出设备（VU-1 ... VU-3）转换为VU-4 ... VU-10。
## Содержание отчета по работе. 报告内容
Отчет по работе должен быть составлен аналогично лабораторной работе No2, за исключением п. 4 (разработка программы с сокращенным числом команд). Кроме того, отчет должен содержать заданное слово и коды его символов и текст исходной программы на языке Ассемблера БЭВМ. (синтаксис и особенности приведены в Приложении Д).
> 除第 4 段（开发减少命令数量的程序）外，工作报告的编写应与实验室工作 No2 类似。此外，报告必须包含给定的单词和其字符的代码以及计算机汇编语言的源程序文本。 （语法和特性在附录 D 中给出）。
## Контрольные вопросы: 答辩问题
1. Синхронный и асинхронный режимы передачи данных.
2. Программно-управляемый и управляемый прерываниями ввод-вывод, прямой доступ к памяти. Преимущества и недостатки.
3. Способы и формат представления символьных и строковых данных в БЭВМ. Кодировки ASCII, КОИ-8, Windows-1251, ISO-8859-5, UTF-8, UTF-16.
4. Порядок байтов в памяти от младшего к старшему (little-endian) и от старшего к младшему (big-endian).
5. Система команд ввода-вывода БЭВМ. Команды in, out, - название, назначение и тип команды. Количество и название машинных циклов, потактовое выполнение команды, с перечислением всех шин, участвующих в обмене.
6. Какие режимы передачи данных и управления вводом-выводом реализуемы в БЭВМ? Почему не возможно реализовать другие?
7. Может ли ВУ определить в каком режиме с ним работают?
8. Назначение флага готовности В/ регистра данных ВУ (DR DEV), регистра
состояния ВУ (CR DEV)?
9. Какие элементы БЭВМ участвуют в обмене с ВУ? Укажите направление
передачи данных между элементами при операциях ввода и вывода.

# Приложение В. Состав, структура и функционирование БЭВМ-NG 
## Часть 2. Организация ввода-вывода в базовой ЭВМ
> 附录 C. BEVM-NG 的组成、结构和功能
第 2 部分。基础计算机中输入输出的组织

Обмен информацией с внешним устройством состоит из инициации обмена. где осуществляются предварительные действия по подготовке к вводу или выводу данных (установка соединения, ожидание готовности и пр.) и собственно обмена банными (их передачей или приемом).  
与外部设备的信息交换包括交换的启动。为准备数据的输入或输出（建立连接、等待就绪等）和数据的实际交换（它们的传输或接收）进行初步操作

Если и инициацией и обменом занимается центральный процессор, то такой обмен называется проераммно-управляеммм. Программно-управляемый обмен по способу инициации разделяется на синхроннМ. когда обмен начинается в заранее известный промежуток времени (например, каждую минуту) и асинхроннМ. когда программе неизвестно время начала обмена данными и она вынуждена периодически проверять возможность обмена (например, готовность внешнего устройства).  
如果启动和交换都由中央处理器处理，则这种交换称为程序控制。软件控制的交换按启动的方法分为同步的。当交换以预定的时间间隔（例如，每分钟）开始时，是异步的。当程序不知道数据交换的开始时间，它被迫定期检查交换的可能性（例如，外部设备的准备情况）

Чтобы исключить периодическую проверку готовности, устройства могут сами инициировать обмен по специальному аппаратному сигналу, который называется запрос прерывания, а соответствующий обмен — управляемый прерываниями ввод- вывод. При таком способе внешнее устройство сигнализирует процессору о необходимости начать обмен, процессор приостанавливает (прерывает) текущую программу, осуществляет ввод-вывод с помощью npozpaMMVi обработки прерывания, а затем продолжает выполнять основную программу.  
为了消除周期性的就绪检查，设备可以自己发起一个特殊的硬件信号交换，称为中断请求，相应的交换是中断驱动的 I/O。使用这种方法，外部设备向处理器发出信号以开始交换，处理器暂停（中断）当前程序，使用 npozpaMMVi 中断处理程序执行 I/O，然后继续执行主程序

ВбоЗ-бМбо。с использованием прямого доступа к (ПДП, в английской литературе DMA) организует и инициацию и обмен данными при помощи контроллеров ПДП. Такие контроллеры передают данные непосредственно в память ЭВМ, при этом центральный процессор в обмене данными не участвует.  
VboZ-bMbo。使用直接访问（DMA，英文文献中的DMA）使用DMA控制器组织初始化和数据交换。这种控制器直接将数据传输到计算机内存，而中央处理器不参与数据交换

Обмен данными (прием и передача) может также быть организован синхронно. когда наличие данных на шине подтверждается специальным сигналом синхронизации с постоянной частотой, и асинхронно, с использованием сигналов готовности и/или подтверждения приема-передачи данных.  
数据交换（接收和传输）也可以同步组织。当总线上的数据存在通过具有恒定频率的特殊同步信号来确认时，并且异步地，使用就绪信号和/或数据传输和接收的确认

Задачу инициации и обмена данными в ЭВМ осуществляют специальные программы (такие программы еще называют драйверами), которые совместно с аппаратурой ЭВМ организуют и контролируют процесс ввода-вывода.
计算机中启动和交换数据的任务是由特殊程序（此类程序也称为驱动程序）执行的，这些程序与计算机硬件一起组织和控制输入输出过程